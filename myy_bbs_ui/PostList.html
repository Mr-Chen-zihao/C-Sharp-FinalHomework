<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./lib/vue.js"></script>
    <script src="./lib/elementui.js"></script>
    <link rel="stylesheet" href="./lib/elementui.css">
</head>

<body>
    <div id="postList">
        <div class="header">
            <div class="not-login" v-if="userName==null">
 
            
                <span><a href="Login.html" style="color:#eee">登录</a> </span>
                <span><a href="RegistUser.html" style="color:#eee">注册</a> </span>

            </div>
            <div class="logined" v-else>
                <span>{{userName}}</span>
                <span @click="logout">注销</span>

            </div>
        </div>
        <div class="search">
            <script src="//unpkg.com/vue@2/dist/vue.js"></script>
            <script src="//unpkg.com/element-ui@2.15.8/lib/index.js"></script>
            <div id="app">
            <el-input type="text" prefix-icon="el-icon-search" placeholder="输入你想要的书名" size="large" style="width:40%" v-model="searchName"></el-input>
            <el-button type="primary" v-onclick="search">搜索</el-button>
    </div>

        </div>       
        <div class="plate-show">
            <div class="navi"></div>
            <div class="backgroup">
                <img src="./assets/images/wisdom-for-all-of-life.jpg" alt="" width="100%"height="500px">
                <h2>在这里，分享你的书籍和见解</h2>
            </div>
        </div>
        <div class="send-post">
            <el-button type="primary" @click="refuse"v-if="userName==null">登录以上传图书</el-button>
            <el-button type="primary" @click="post"v-else>上传图书</el-button>

        </div>
        <!-- <!-- <div class="post-list">
            <table>
                <thead>
                    <tr>
                        <td colspan="2">
                            <span>全部主题</span>
                            <span>最新</span>
                            <span>热门</span>
                            <span>热帖</span>
                            <span>精华</span>
                        </td>
                        <td>作者</td>
                        <td>回复/查看</td>
                        <td>最后发表</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="width: 32px;padding-left: 5px;">
                            <img src="./assets/images/folder_new.gif" alt="">
                        </td>
                        <td>
                            <span><a class="post-type" href="javascript:;">[书籍类型]</a></span>
                            <a href="./PostDetail.html">书籍名字</a>
                        </td>
                        <td style="width: 135px;">
                            <p>发帖人</p>
                            <p>2022-5-23 22:11:43</p>
                        </td>
                        <td style="width: 66px;">
                            <p>996</p>
                            <p>1007</p>
                        </td>
                        <td style="width: 120px;">
                            <p>回帖人</p>
                            <p> 2022年5月23日23:35:17</p>
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 32px;padding-left: 5px;">
                            <img src="./assets/images/folder_new.gif" alt="">
                        </td>
                        <td><span>[书籍类型]</span>书籍名字</td>
                        <td style="width: 135px;">
                            <p>发帖人</p>
                            <p>2022-5-23 22:11:43</p>
                        </td>
                        <td style="width: 66px;">
                            <p>996</p>
                            <p>1007</p>
                        </td>
                        <td style="width: 120px;">
                            <p>回帖人</p>
                            <p> 2022年5月23日23:35:17</p>
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 32px;padding-left: 5px;">
                            <img src="./assets/images/folder_new.gif" alt="">
                        </td>
                        <td><span>[书籍类型]</span>书籍名字</td>
                        <td style="width: 135px;">
                            <p>发帖人</p>
                            <p>2022-5-23 22:11:43</p>
                        </td>
                        <td style="width: 66px;">
                            <p>996</p>
                            <p>1007</p>
                        </td>
                        <td style="width: 120px;">
                            <p>回帖人</p>
                            <p> 2022年5月23日23:35:17</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div> -->
        <div class="post-page">
            <el-pagination background layout="prev, pager, next" :page-size="60" :total="1000">
            </el-pagination>
        </div>
    </div>

</body>
<script>
    new Vue({
        el: "#postList",
        data:{
            userName:sessionStorage["username"],
            searchName:"",
            books:JSON.parse(axios.get("http://localhost:5265/Book/GetAll".data)),  //得到书籍列表
      
        },
        methods: {
            logout:function(){
                localStorage.clear();
                sessionStorage.clear();
                this.userName = null;
            },
            refuse:function(){
                this.$message('请先登录');
            },
            
            post:function(){
                location.href = "Postbook.html";

            }
        },
    })
</script>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    a{
        text-decoration: none;
        color:#333;
    }
    a.post-type{
        color:blue;
    }
    a:hover{
        text-decoration: underline;
    }
    
    
    .search{
        margin-top: 16px;
        margin-left: 35%;
    }
    .header {
        width: 100%;
        height: 36px;
        line-height: 36px;
        padding-right: 10px;
        background-color: #000;
        text-align: right;
    }

    .header .not-login span,
    .header .logined span {
        color: rgb(255, 255, 255);
    }

    .plate-show {
        width: 98%;

        margin: 20px auto;
        border: 1px solid #ccc;

    }

    .plate-show .navi {
        height: 36px;
    }

    .plate-show .backgroup {
        text-align: center;
    }

    .plate-show .backgroup h2 {
        color: rgb(0, 102, 255);
        margin: 10px 0;
    }

    .send-post {
        width: 98%;
        margin: auto;
    }

    .post-list {
        width: 98%;
        margin: 16px auto;
        border: 1px solid #ccc;
        border-bottom: 0 none;
    }

    .post-list table {
        border-collapse: collapse;
        width: 100%;
        font-size: 14px;
    }

    .post-list table thead tr td {
        background-color: #eee;
        height: 40px;
    }

    .post-list table thead tr td span {
        margin-left: 16px;
        color:rgb(0, 102, 255);
    }

    .post-list table tr td {
        border-bottom: 1px solid #ccc;
        height: 40px;
    }

    .post-list table tr td span {
        color: rgb(0, 102, 255);
        padding-right: 10px;
    }

    .post-list table tr td p:last-child {
        color: #999;
    }

    .post-page {
        text-align: right;
        margin-bottom: 36px;
    }
</style>

</html>